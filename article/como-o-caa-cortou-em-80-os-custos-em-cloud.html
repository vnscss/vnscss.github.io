<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S9J0T4538S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-S9J0T4538S');
</script>

	<!--highlight.js-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>


    <!--Google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">


    <!--Google icons-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

    <!--bootstrap5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


    <!--overlayscrollbars-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/2.10.1/styles/overlayscrollbars.min.css" integrity="sha512-1upUL7mU0vRAdxf0hllx44X8k95N0hSFoljRxrCYLvqn7Ih2lGbzgrNTDpXUPnHo/m6lB7JZzteEy7IXHuJ/cw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/2.10.1/browser/overlayscrollbars.browser.es6.min.js" integrity="sha512-bDTkSDb0/IRzL9tINJGwc2iQwmqVF3X9y7Doo7ZWvtfUM0y8Wuw1yqbYSPCBfVUBun64XIyPfXStDf9vc7cR8Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
	<link rel="stylesheet" href="/static/assets/style.css">
    <link rel="icon" href="/static/assets/favicon.png" type="image/x-icon">


    <title>
        
Como o CAA cortou em 80% os custos em cloud

    </title>
    
    <script>
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            let FILE = "https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css@main/github-markdown-dark.css"
            var css = document.createElement('link');
            css.setAttribute('rel','stylesheet');
            css.setAttribute('type', 'text/css');
            css.setAttribute('href', FILE);

            document.getElementsByTagName('head')[0].appendChild(css);
        }
        else{
            let FILE = "https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css@main/github-markdown-light.css"
            var css = document.createElement('link');
            css.setAttribute('rel','stylesheet');
            css.setAttribute('type', 'text/css');
            css.setAttribute('href', FILE);

            document.getElementsByTagName('head')[0].appendChild(css);
        }
    </script>


    <title>Como o CAA cortou em 80% os custos em cloud</title>
    <meta name="description" content="Descubra as estratégias, escolhas de provedor e otimizações técnicas que transformaram a infraestrutura, garantindo alta performance e zero downtime.">
    <meta name="keywords" content="
full-stack development, full stack developer, web development career, backend development, frontend development, software development, junior developer, software engineering, coding career, IT jobs, tech industry, programming roadmap, learn to code, self-taught developer, software engineering career, developer portfolio, coding bootcamp, web technologies, open source contributions, agile development, APIs, cloud computing, GitHub, DevOps, RESTful APIs, React, Node.js, Django, JavaScript, HTML, CSS, Python, SQL, version control, CI/CD, IT infrastructure, software architecture, database design, MVC, computer science fundamentals,

desenvolvimento full-stack, carreira em TI, desenvolvedor web, desenvolvedor backend, desenvolvedor frontend, programador iniciante, engenharia de software, carreira em programação, aprender a programar, tecnologia da informação, mercado de TI, roadmap do programador, desenvolvedor júnior, portfólio de programador, curso de programação, bootcamp de código, tecnologias web, computação em nuvem, APIs REST, DevOps, controle de versão, Git, GitHub, Python, JavaScript, React, Node, Django, banco de dados, arquitetura de software, boas práticas de programação, entrevista de emprego TI, carreira de TI
" />
    <meta name="author" content="Vinícius Pires">


    <meta property="og:title" content="Como o CAA cortou em 80% os custos em cloud" />
    <meta property="og:description" content="Descubra as estratégias, escolhas de provedor e otimizações técnicas que transformaram a infraestrutura, garantindo alta performance e zero downtime." />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="/article/como-o-caa-cortou-em-80-os-custos-em-cloud" />
    <meta property="og:image" content="/media/banners/1697731189113.png" />
    <meta property="og:site_name" content="vns.dev.br" />

    <meta property="article:author" content="Vinícius Pires" />
    <meta property="article:published_time" content="1 de Julho de 2025 às 23:12" />

    <meta name="robots" content="index, follow">
    <meta name="language" content="pt-BR">
    <meta name="distribution" content="global">
    <meta name="rating" content="general">


    <link rel="canonical" href="/article/como-o-caa-cortou-em-80-os-custos-em-cloud.html" />

    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Como o CAA cortou em 80% os custos em cloud",
    "image": "/media/banners/1697731189113.png",
    "author": {
        "@type": "Person",
        "name": "Vinícius Pires"
    },
    "publisher": {
        "@type": "Organization",
        "name": "vns.dev.br",
        "logo": {
        "@type": "ImageObject",
        "url": "/static/assets/vns.jpg"
        }
    },
    "datePublished": "1 de Julho de 2025 às 23:12",
    "description": "Descubra as estratégias, escolhas de provedor e otimizações técnicas que transformaram a infraestrutura, garantindo alta performance e zero downtime."
    }
    </script>



 <link rel="stylesheet" href="static/assets/style.css">
</head data-overlayscrollbars-initialize>
<body>
    <header>
    <h1 class="headerTitle" onclick="window.location.href = `/`" style="cursor: pointer;">vns.dev.br</h1>

    <div class="search">
        <input type="text">
        <button class="searchButton"><span class="material-symbols-outlined">search</span></button>
    </div>

    <div class="redes">
        <a href="https://github.com/vnscss/" class="github"> <img src="/static/assets/github.png" alt=""></a>
        <a href="https://www.linkedin.com/in/vin%C3%ADcius-pires-4840b52a1/" class="linkedin"> <img src="/static/assets/linkedin.png" alt=""> </a>
    </div>
</header>


<script>
    let searchButton = document.querySelector('.searchButton');
    let searchInput = document.querySelector('.search input');

    searchButton.addEventListener('click', function() {
        let query = searchInput.value.trim();
        if (query) {
            window.location.href = `/my-articles/?search=${encodeURIComponent(query)}`;
        }
    });

    window.addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
            let query = searchInput.value.trim();
            if (query) {
                window.location.href = `/my-articles/?search=${encodeURIComponent(query)}`;
            }
        }
    });
</script> 
    
<main id="scroll-area">
    <div class="articleInnerMainContainer">
            <div class="singleArticleContainer">
                            <div class="singleArticleHead">

                                <h1 class="articleTitle">
                                    Como o CAA cortou em 80% os custos em cloud
                                </h1>
                                <p class="articleChamada">
                                    Descubra as estratégias, escolhas de provedor e otimizações técnicas que transformaram a infraestrutura, garantindo alta performance e zero downtime.
                                </p>

                                <p class="articleData">
                                    <small>Publicado em :<code>  1 de Julho de 2025 às 23:12</code></small>
                                </p>

                                <div class="articleAuthor"> 
                                    <img src="https://github.com/vnscss.png" alt="">
                                    <a href="https://github.com/vnscss">Vinícius Pires</a>
                                </div>
                            </div>


                        <div class="lineBr"></div>

                        <div class="imgContainer">
                            
                            
                                <img src="/media/banners/1697731189113.png" alt="">
                            
                            
                        </div>

                        
                        <div class="markdown-body" style="background-color: #0000;">
                            <p>Ao revisar nossa infraestrutura cloud, percebi que estávamos pagando muito por pouco: serviços instáveis, caros, e com <em>downtime</em> acima do aceitável.</p>
<p>Hospedávamos:</p>
<ul>
<li>
<p>3 sites institucionais, com módulos de publicações e notícias.</p>
</li>
<li>
<p>1 ERP legado, muito robusto em tamanho e funcionalidades.</p>
</li>
</ul>
<p>Esses serviços somavam em média um uso simultâneo base de +- 200 usuários, e picos esporádicos de 2.500 a 5.000 usuários. </p>
<p>O que não deveria custar muito, porém nossa mensalidade tinha um valor bem expressivo.</p>
<h1>Plano fixo</h1>
<p>Diferente do plano mais comum usado no mundo de cloud computing, o <code>pay-as-you-go</code>, contratávamos na época um plano fixo. </p>
<p>Ou seja, independentemente do quanto de processamento gasto, o valor da mensalidade seria o mesmo todo mês.</p>
<p>O que me levou a realizar uma pesquisa de viabilidade para entender se valia a pena migrar.</p>
<h1>Pesquisa de viabilidade</h1>
<h3>Por qual motivo a infraestrutura não foi melhorada no passado?</h3>
<p>Antes de propor mudanças, é essencial entender o porquê melhorias não foram implementadas no passado.</p>
<p>Esse processo de entendimento ajudou a mapear desafios enfrentados anteriormente, evitando que eles se repitam. Ajudando também a superá-los de forma mais rápida.</p>
<h3>Existem planos melhores do que o de mensalidade fixa?</h3>
<p>Depende, cada caso é um caso.</p>
<p>Na nossa situação, o plano fixo não fazia sentido quando era comparado <code>processamento</code> vs <code>custo</code>.<br />
As opções <code>pré-pagas</code> e <code>pay-as-you-go</code> eram muito mais interessantes.</p>
<p>O nosso <em>budget</em> permitia custos com uma previsibilidade incerta, e o número "pequeno" de usuários tornava o plano <code>pay-as-you-go</code> bem mais atraente.</p>
<p>Colocando na ponta do lápis, caso um pico de acessos aconteça e o custo venha alto, o uso menor durante todo o resto do mês faria a compensação.</p>
<h3>Qual provedor escolher?</h3>
<p>Em uma pesquisa rápida, consegui encontrar diversos provedores grandes e confiáveis com planos <code>pay-as-you-go</code> que ficariam consideravelmente mais baratos do que o plano atual, com um <em>uptime</em> superior, melhor suporte e sistemas de descontos para os primeiros meses de uso.</p>
<h3>Os sistemas legados poderiam ser migrados facilmente?</h3>
<p>Migrar um sistema nunca é uma tarefa fácil, ainda mais quando se trata de um sistema legado.</p>
<p>Estudar a viabilidade dessa migração foi um dos pontos mais importantes do processo, pois com o plano <code>pay-as-you-go</code>, é preciso tomar muito cuidado com <code>bugs</code>, <code>funcionalidades</code> e <code>processos</code> ineficientes do ponto de vista de performance.</p>
<p>À primeira vista, um sistema que gastaria pouco recurso em cloud poderá "sair do controle" com um processo ineficiente que nunca foi mapeado, ou um bug que dispara uma recursividade, fazendo o valor da conta disparar.</p>
<p>Além disso, um ponto importante na migração dos nossos sistemas era que todos os dias grandes volumes de informações eram inseridos e alterados no banco de dados.<br />
Um banco de dados que já presenciou diversas <em>migrations</em> de tabelas, diversos sistemas diferentes e <code>15+</code> anos em produção.</p>
<p>Por esses motivos, foi preciso mapear cada ponto de melhoria, testar tudo e automatizar processos.</p>
<h1>Mão na massa</h1>
<p>Com base nessa análise, ficou comprovado que mudar de provedor era necessário. Adotamos um novo plano, mais vantajoso para nosso cenário.</p>
<h2>Ações</h2>
<p>Por conta das peculiaridades do plano <code>pay-as-you-go</code>, foi preciso implementar as seguintes alterações no ambiente de produção:</p>
<ul>
<li>
<p>Rotinas de backup mais eficientes.</p>
</li>
<li>
<p>Atualização de dependências e <code>SO</code>, visando segurança e performance.</p>
</li>
<li>
<p>Refatoração de partes do código legado, para evitar comportamentos ineficientes.</p>
</li>
<li>
<p>Melhor implementação e configuração de cache, servidores web e <em>workers</em> das aplicações.</p>
</li>
<li>
<p><em>Fail2Ban</em>, para mitigar tentativas de <em>brute force</em> SSH.</p>
</li>
<li>
<p><em>Rate limit</em>, para mitigar tentativas de DDoS.</p>
</li>
</ul>
<p>Os três últimos pontos da lista foram os mais importantes para a redução de custo da mensalidade.</p>
<h2>Impacto</h2>
<p>Sistemas legados muitas vezes seguem a lógica do “se está funcionando, não mexa”. Isso faz com que diversos processos a nível de sistema como: cache, servidor web (nginx, apache, etc.) e os <em>workers</em> da aplicação fiquem desatualizados, sem funcionalidades que melhoram segurança e, principalmente, performance.</p>
<p>Ataques de <em>brute force</em> são muito comuns, e caso não tenha nenhum sistema para negar essas conexões maliciosas, o seu <code>SO</code> ficará sobrecarregado, o que será refletido no valor da mensalidade.</p>
<p>Essas alterações representaram um ganho significativo em performance, e a redução dos custos.</p>
<h1>Conclusão</h1>
<p>Após alguns meses, tivemos como resultado:</p>
<ul>
<li>80% de redução nos custos com cloud.</li>
<li>0 minutos de <em>downtime</em>.</li>
<li>Melhora perceptível na performance das aplicações.</li>
</ul>
<p>Essa economia só foi possível graças a uma escolha mais adequada de provedor e melhorias em vários níveis: código, infraestrutura, dependências e processos.</p>
                        </div>
                
            </div>
    </div>
</main>


<script>

    let markdownbody = document.querySelectorAll('.markdown-body *');
    markdownbody.forEach((element) => {
        if (element.tagName === 'IMG') {
            let height = element.naturalHeight;
            element. style.width = '100%';
            element.style.height = height   + 'px';
            element.style.objectFit = 'contain';
        }
    });

</script>


	<script>
		var { 
				OverlayScrollbars, 
				ScrollbarsHidingPlugin, 
				SizeObserverPlugin, 
				ClickScrollPlugin  
			} = OverlayScrollbarsGlobal;
		const osInstance = OverlayScrollbars(document.getElementById('scroll-area'), {			
				paddingAbsolute: false,
				showNativeOverlaidScrollbars: false,
				update: {
					elementEvents: [['img', 'load']],
					debounce: [0, 33],
					attributes: null,
					ignoreMutation: null,
				},
				overflow: {
					x: 'scroll',
					y: 'scroll',
				},
				scrollbars: {
					theme: 'os-theme-dark',
					visibility: 'auto',
					autoHide: 'scroll',
					autoHideDelay: 1300,
					autoHideSuspend: false,
					dragScroll: true,
					clickScroll: false,
					pointers: ['mouse', 'touch', 'pen'],
				},});
	</script>
</body>
</html>